

# **Web端人机交互测评应用前端需求规格说明书**

本文档旨在详细定义“Web端人机交互测评应用”的前端功能、交互逻辑与技术要求。本文档将作为后续UI/UX设计、前端开发与测试工作的核心依据，确保项目实施的准确性、一致性与高质量。

## **1.0 全局系统需求与应用框架**

本章节定义了贯穿整个测评应用的全局性功能需求、界面框架和通用交互规则。这些要求是所有后续模块的基础。

### **1.1 应用框架与布局**

应用应采用一个固定的、一致的布局框架，以承载所有测评页面。该框架在用户作答期间（从“注意事项”页面之后到“完成”页面之前）保持不变。

#### **1.1.1 主内容区域 (Main Content Area)**

屏幕中央应设有一个主内容区域。此区域负责动态渲染当前测评页面的所有内容，包括题目文本、图片、交互组件（如输入框、按钮、拖拽区域等）。每个测评页面的具体内容将替换此区域的内容，实现页面切换。

#### **1.1.2 左侧导航栏 (Left Navigation Pane)**

屏幕左侧应始终显示一个垂直的导航栏。此导航栏的主要功能是向用户展示测评的整体结构，并实时标示用户当前所处的进度阶段 1。

* **内容与结构**：导航栏应包含一个数字列表，对应测评的各个主要部分。根据文档内容，这些导航项应为：“1 出行方案”, “2 出行方案”, “3 火车购票”, “4 火车购票:出发站”, “5 火车购票:出发站”, “6 火车购票:出发时间”, “7 火车购票:出发时间”, “8 火车购票:出发时间”, “9 火车购票:车票选择”, “10 火车购票:车票选择”, “11 火车购票” 1。  
* **状态指示**：当用户进入一个新的测评页面时，导航栏中对应的项应被高亮显示（例如，通过改变背景色或文字颜色），以明确告知用户当前所处的测评阶段。  
* **导航项与页面的映射关系**：导航项与测评页面之间并非简单的一对一关系。一个导航项可能对应多个连续的页面，代表一个完整的任务阶段。例如，“4 火车购票:出发站”这个概念性任务，实际上包含了多个交互步骤。因此，必须建立一个明确的映射规则，将每个页面（或URL路由）与应被高亮的导航项关联起来。具体映射关系见下文各模块定义。

#### **1.1.3 全局计时器显示 (Global Timer Display)**

在应用界面的一个固定位置（建议为顶部或角落），应始终显示一个全局倒计时器。该计时器向用户实时展示剩余的作答时间。

### **1.2 全局测评计时器**

全局计时器是本次测评的核心约束条件之一，其功能必须严格实现。

* **起始与时长**：根据要求“作答时间共40分钟”，计时器应在用户完成“注意事项”页面并进入第一个正式题目（题目 1）时，从40分00秒开始倒计时 1。  
* **显示格式**：计时器应以MM:SS（分钟:秒）的格式持续显示，并在每一秒更新。  
* **超时处理**：当计时器倒数至00:00时，系统必须立即执行自动提交程序。此程序应包括以下步骤：  
  1. 立即锁定当前页面的所有用户交互功能，防止用户继续作答。  
  2. 收集并整合用户在本次测评会话中已产生的所有作答数据。  
  3. 调用后端API，将收集到的数据作为最终结果提交。  
  4. 强制将用户界面跳转至测评的最后一页，即“完成”页面（题目 11）1。

### **1.3 页面流程与状态管理**

为保证测评的严谨性和数据采集的有效性，页面间的跳转流程受到严格的控制。

* **单向顺序流程**：用户只能通过点击每页底部的“下一页”按钮来前进到下一个测评页面。这是唯一的页面流转方式 1。  
* **不可逆性**：一旦用户点击“下一页”并进入新页面，系统必须禁止用户返回到任何之前的页面。此要求明确指出“否则将无法返回上一页” 1。技术上，必须禁用或拦截浏览器的后退功能，以防止用户通过非预期方式回溯，从而破坏测评的顺序性和连贯性。  
* **完成前置的流程门控**：每页的“下一页”按钮在默认状态下应为禁用（disabled）状态。只有当用户完成了当前页面的所有必需作答任务后，该按钮才被激活（enabled）。每个页面都有一套独立的、明确的“完成标准”（Validation Criteria），例如填写文本、选择选项或完成拖拽等。

### **1.4 导航与状态管理的核心技术考量**

上述全局需求对前端架构，特别是状态管理，提出了明确的技术要求。

* **导航映射逻辑**：由于导航项与页面之间存在复杂的“多对一”和“一对多”关系，前端实现不能依赖简单的索引匹配。必须构建一个配置表或映射对象，明确定义每个页面URL或标识符所对应的导航项ID。例如，当用户在题目4的交互式路线探索阶段操作时，导航栏的“4”应持续高亮；当进入题目5时，高亮项应切换为“5” 1。这表明导航栏反映的是任务的“逻辑阶段”，而非物理的“页面索引”。  
* **中心化状态管理**：鉴于全局计时器、不可逆的页面流程、条件性的交互验证以及跨页面的数据累积，强烈建议采用一个健壮的客户端状态管理库（如 Redux, Vuex, Pinia）。这个中心化的“Store”将负责维护整个应用的状态，包括：  
  * 计时器的当前值。  
  * 用户的当前页面标识符。  
  * 一个不断累积的、包含所有已作答数据的对象。  
    当测评超时或用户手动完成时，这个完整的状态对象将被序列化并发送到后端。因此，该状态对象的数据结构（即下文定义的“测评提交数据模型”）是前端架构设计的基石。

## **2.0 模块一：测评引导**

本模块的目标是确保用户在开始测评前，充分理解并同意测评的基本规则。

### **2.1 目标**

通过一个强制性的阅读和确认流程，确保用户知晓作答时间限制、单向流程等重要注意事项。

### **2.2 页面功能需求 (页面 0.1: 注意事项)**

此页面是测评的入口，包含特定的交互逻辑。

#### **2.2.1 UI组件与内容**

* **标题**：页面主标题为“注意事项” 1。  
* **说明列表**：包含四条核心规则的无序列表，内容需与源文档中的“注意事项”页面完全一致 1。  
* **确认组件**：一个复选框（Checkbox）及其关联标签。标签文本为“我已阅读上述注意事项(40s)” 1。

#### **2.2.2 用户交互与系统响应**

* **页面加载时**：页面加载完成的瞬间，一个40秒的内部计时器开始启动。同时，复选框组件处于禁用状态，用户无法点击。  
* **倒计时期间**：标签中的“(40s)”文本应动态更新，实时显示剩余秒数，例如“(39s)”, “(38s)”, 直至“(1s)”。  
* **倒计时结束后**：40秒计时结束，标签中的秒数文本消失（或整个括号部分消失）。复选框的禁用状态被解除，变为可交互的enabled状态。  
* **用户操作**：用户点击已启用的复选框。  
* **系统响应**：复选框被选中，显示勾选状态。全局的“下一页”按钮（在此页面上首次出现）从禁用状态变为启用状态，允许用户进入测评。

#### **2.2.3 数据捕获**

* 一个布尔型（Boolean）状态值，例如 precautionsAcknowledged。当用户勾选复选框后，此值被设为 true。

### **2.3 “强制阅读”机制的设计意图**

此页面设计的40秒等待机制并非简单的技术延迟，而是一种精心设计的用户体验（UX）模式，其目的在于“强制用户思考与阅读”。

* 一个标准的复选框用户可以在一秒内点击通过，这可能导致用户忽略重要的规则说明。  
* 通过强制施加一个40秒的等待期，系统确保了用户在此页面上停留足够长的时间，从而显著增加了用户阅读并理解规则的可能性。  
* 这是一种控制用户节奏、确保信息传达到位的交互策略。因此，前端实现必须确保这一计时器的严肃性，不能存在可被用户轻易绕过的漏洞（例如通过修改本地时间或脚本）。此功能的核心是**强制等待**，而不仅仅是**显示一个计时器**。

## **3.0 模块二：场景与问题定义**

本模块通过叙事性内容，引导用户进入测评情境，并要求用户从中提炼核心问题及相关要素。

### **3.1 目标**

评估用户在给定情境下，对信息的理解、问题的概括以及关键因素的识别能力。

### **3.2 各页面功能需求**

#### **3.2.1 题目 1：静态情景介绍**

* **UI组件与内容**：此页面为静态展示页。需精确还原源文档中题目1的图文内容，包括标题、引言文本和背景图片 1。  
* **交互逻辑**：“下一页”按钮在此页面上应默认启用，因为此页面无作答任务。  
* **导航栏状态**：左侧导航栏的“1 出行方案”项应被高亮。

#### **3.2.2 题目 2：问题识别**

* **UI组件与内容**：  
  * 一个模拟即时通讯应用的对话框组件，用于展示舅舅、小明、妈妈和爸爸之间的对话。样式应力求逼真，以增强代入感 1。  
  * 一个多行文本输入区域（\<textarea\>），内部包含占位符文本（Placeholder）：“请在此处输入你的回答。” 1。  
* **完成标准（Validation）**：“下一页”按钮的启用条件是：文本输入区域经过去除首尾空格后，内容为非空字符串。  
* **数据捕获**：一个字符串类型的字段，例如 q1\_problemStatement，用于存储用户输入的原始文本内容。  
* **导航栏状态**：左侧导航栏的“2 出行方案”项应被高亮。

#### **3.2.3 题目 3：因素分析**

* **UI组件与内容**：  
  * 一个包含六个选项的列表。每个选项应设计为自定义的、可点击的区域（而非原生HTML复选框），以实现更丰富的视觉效果。选项文本需与源文档题目3一致：“小明家到出发站的路程”、“火车车厢数”等 1。  
* **交互逻辑**：  
  * 此为多选交互。点击一个未选中的选项，该选项应进入“选中”状态（例如，背景变色、出现勾选标记）。  
  * 根据指令“再次单击可取消选择”，点击一个已选中的选项，该选项应恢复到未选中状态 1。  
* **完成标准（Validation）**：“下一页”按钮的启用条件是：用户至少选择了一个选项。  
* **数据捕获**：一个字符串数组，例如 q3\_relevantFactors，用于存储所有被选中选项的文本内容。  
* **导航栏状态**：左侧导航栏的“3 火车购票”项应被高亮。

## **4.0 模块三：出发站分析**

本模块是一个复杂的多步骤任务，要求用户通过解读地图、进行计算，并基于计算结果做出有理有据的决策。

### **4.1 目标**

评估用户的信息获取、数据处理（计算）、以及基于数据进行分析和决策的能力。

### **4.2 各页面功能需求**

#### **4.2.1 题目 4：交互式路线探索**

这组页面共享一套核心交互界面，旨在引导用户完成数据收集和计算。

* **UI组件与内容**：  
  * **左侧面板（地图视图）**：一个图片容器，用于展示地图。容器下方或旁边排列五个按钮，分别标记为“路线1”至“路线5” 1。  
  * **右侧面板（数据录入）**：一个表格，展示五条路线及其路程。其中，“路线2”、“路线3”、“路线4”的路程（8.65 km, 10.2 km, 9.63 km）为预填充的只读文本。“路线1”和“路线5”的路程则为用户输入框 1。  
* **交互逻辑**：  
  1. **页面加载时**：左侧面板显示默认的概览地图。五个“路线”按钮均处于默认状态。  
  2. **用户操作**：用户点击任意一个“路线”按钮（例如，“路线1”）。  
  3. **系统响应**：被点击的按钮进入“激活”的视觉状态（例如，高亮或按下效果）。左侧面板中的图片动态更新，显示与该路线对应的详细地图。这些地图图片分别源自源文档中题目4对应的各路线详情图。  
  4. **用户操作**：用户根据所显示的路线图上的分段路程进行心算或笔算，然后将计算结果（总路程）输入到右侧面板表格中对应的输入框内。  
* **完成标准（Validation）**：  
  * “路线1”和“路线5”的输入框必须只接受数字格式的输入。  
  * “下一页”按钮的启用条件是：“路线1”和“路线5”两个输入框都已被填入有效的数值数据。  
* **数据捕获**：一个对象，例如 q4\_routeCalculations，包含两个键值对：{"route1\_km": \<用户输入值1\>, "route5\_km": \<用户输入值2\>}。  
* **导航栏状态**：在用户完成此部分并点击“下一页”之前，左侧导航栏的“4 火车购票:出发站”项应持续高亮。

#### **4.2.2 题目 5：站点推荐**

* **UI组件与内容**：  
  * 一个只读的表格，展示所有五条路线的“正确”路程（7.9 km, 8.65 km, 10.2 km, 9.63 km, 7.88 km）1。  
  * 一个单选按钮组（Radio Button Group），提供两个选项：“南充北站”和“南充站” 1。  
  * 一个多行文本输入区域，供用户阐述选择理由。  
  * 页面下方再次提供“路线1”至“路线5”的五个按钮，并附有提示：“可点击下方路线按钮, 重新查看路线哦\!” 1。  
* **交互逻辑**：  
  * 点击此页面下方的“路线”按钮，应触发一个模态框（Modal）或浮层（Popover），在其中显示对应的路线详情地图（源自题目4）。这个设计允许用户在不离开当前决策页面的情况下，方便地回顾原始信息。  
* **完成标准（Validation）**：“下一页”按钮的启用条件是：用户必须已选择一个车站（单选按钮），**并且**在理由说明的文本框中输入了内容。  
* **数据捕获**：一个对象，例如 q5\_stationChoice，包含：{"station": \<"南充北站" or "南充站"\>, "justification": \<用户输入的理由文本\>}。  
* **导航栏状态**：进入此页面后，左侧导航栏的高亮项应切换为“5 火车购票:出发站”。

### **4.3 交互设计分析**

本模块的交互设计巧妙地模拟了一个真实世界中的研究与决策过程。

* **分阶段任务流**：系统没有直接呈现所有数据，而是要求用户首先通过主动交互（点击按钮切换地图）来“收集”原始数据（各路段长度），然后进行“处理”（相加计算），最后利用处理后的结果在下一阶段“做出决策”。这种将数据收集、处理和决策分离的设计，有效地评估了用户的综合问题解决能力。  
* **信息回顾支持**：在决策页面（题目5）提供路线图回顾功能，是一个至关重要的用户体验设计。它承认了人类记忆的局限性，通过提供便捷的信息重访渠道，来支持用户进行更可靠的决策。这要求前端将“路线地图查看器”实现为一个可复用的组件，既能在题目4作为主内容，也能在题目5作为模态框被调用。  
* **性能考量**：用户可能会频繁、无序地点击五个路线按钮。为保证流畅的交互体验，所有五张路线地图图片应在用户进入题目4时进行预加载。这样，后续的切换操作仅是改变\<img\>标签的src属性或切换不同图片元素的可见性，从而避免了因网络延迟造成的卡顿，保障了核心任务的流畅性。

## **5.0 模块四：时间管理任务**

本模块旨在评估用户在面对一系列具有并行可能性的任务时，进行规划和优化的能力。这通过一个复杂的拖拽式交互界面来实现。

### **5.1 目标**

评估用户的统筹规划能力，特别是识别可并行任务以缩短总耗时的能力（即关键路径法）。

### **5.2 各页面功能需求**

#### **5.2.1 题目 6：交互教程**

* **UI组件与内容**：  
  * 一张静态图片，展示一个已经安排好的方案示例，其中包含并行任务 1。  
  * 一个带有播放图标（▶）的按钮，标签为“请点击 ▶ 按钮, 查看操作动画。” 1。  
* **交互逻辑**：  
  * 点击播放按钮后，系统应播放一段操作演示动画。该动画需要清晰地展示以下过程：  
    1. 从源区域选中一个任务块。  
    2. 将任务块拖动到作答区域的时间轴上。  
    3. 放下任务块，并展示如何将另一个任务块放置在旁边以形成并行关系。  
    4. “总用时”的数值根据任务的排列方式实时更新。  
  * 此动画可以实现为GIF、嵌入式视频或通过JavaScript脚本控制的DOM元素动画。动画应支持重复播放。  
* **完成标准（Validation）**：“下一页”按钮在此页面默认启用。  
* **导航栏状态**：左侧导航栏的“6 火车购票:出发时间”项应被高亮。

#### **5.2.2 题目 7：用户方案设计**

* **UI组件与内容**：  
  * **源区域（Source Area）**：包含五个独立的、可拖拽的元素。每个元素代表一个任务，并标明其名称和耗时，如“①洗水壶(1分钟)” 1。  
  * **放置区域1（Drop Zone 1）**：“方案一”标题下的一个容器，用户可将任务块拖入此区域以构建第一个方案。  
  * **放置区域2（Drop Zone 2）**：“方案二”标题下的另一个相同容器。  
  * **时间显示**：每个放置区域都关联一个不可编辑的文本显示区域，格式为“总用时: \_\_\_ 分钟” 1。  
* **交互逻辑（拖拽与实时计算）**：  
  * 用户可以将源区域的五个任务块拖入任一放置区域。  
  * 在放置区域内，任务块可以被排列为串行（首尾相接）或并行（并排摆放，时间线重叠）。  
  * **实时计算**：这是此模块的核心逻辑。当用户在放置区域内移动或放置任务块时，关联的“总用时”必须实时更新。系统计算总耗时的方法**不是**简单地将所有任务时间相加，而是必须计算任务图的“关键路径”长度。例如，如果“②用水壶烧热水(10分钟)”和“⑤吃早饭(6分钟)”被并行放置，则该段耗时为10分钟（取二者最大值），而非16分钟。  
* **完成标准（Validation）**：“下一页”按钮的启用条件是：两个放置区域（“方案一”和“方案二”）中，**每个**区域都至少被放置了一个任务块。  
* **数据捕获**：一个对象 q7\_userSchedules，包含两个数组，分别对应两个方案。数组中的每个元素都是一个对象，描述一个任务块及其在时间轴上的位置信息（如 {"task\_id": 2, "startTime": 1, "endTime": 11}）。每个方案计算出的总用时也必须被保存。  
* **导航栏状态**：左侧导航栏的“7 火车购票:出发时间”项应被高亮。

#### **5.2.3 题目 8：方案评估与优化**

* **UI组件与内容**：  
  * 一张图片，展示“小明”提出的一个方案及其总用时（15分钟）1。  
  * 一个问题：“请问小明的方案是否是用时最短的方案?” 1。  
  * 一个单选按钮组，选项为“是”和“否” 1。  
  * **条件性显示区域（初始隐藏）**：一个完整的拖拽交互界面（与题目7的单个方案区域相同），位于标题“请拖动长方条, 画出你的改进方案。”之下 1。  
* **条件渲染逻辑**：  
  1. **页面加载时**：用于“改进方案”的拖拽区域是隐藏的（display: none 或 visibility: hidden）。  
  2. **用户操作**：用户选择“是”单选按钮。  
  3. **系统响应**：“下一页”按钮被启用。改进方案区域保持隐藏。  
  4. **用户操作**：用户选择“否”单选按钮。  
  5. **系统响应**：隐藏的“改进方案”拖拽区域变为可见。此时“下一页”按钮保持禁用，直到用户在**新出现的拖拽区域**中创建了一个有效的方案（即至少放置了一个任务块）后，才被启用。  
* **数据捕获**：一个对象 q8\_optimizationResponse，包含：{"isOptimal": \<true/false\>, "improvedPlan": \<(可选) 用户设计的改进方案对象\>, "improvedTime": \<(可选) 改进方案的总用时\>}。  
* **导航栏状态**：左侧导航栏的“8 火车购票:出发时间”项应被高亮。

### **5.3 拖拽交互与实时计算的实现逻辑**

此模块的拖拽功能远超简单的布局排列，其核心在于前端需要实现一套轻量级的甘特图（Gantt Chart）逻辑。

* **并行任务的识别**：题目6的示例明确展示了并行任务的概念，总用时（19分钟）并非所有任务时长的总和（1+10+2+2+6 \= 21分钟）。这表明总用时是由最长的一条连续任务链决定的。  
* **关键路径算法**：前端的JavaScript代码必须维护一个数据模型，该模型根据任务块的视觉位置关系来表示任务间的依赖关系（串行或并行）。每当一个任务块被放下或移动时，应用必须重新计算此任务图的“关键路径”。  
* **计算步骤**：  
  1. 根据任务块的水平位置（x坐标）和宽度，判断它们是否存在时间上的重叠。重叠的任务即为并行任务。  
  2. 构建一个有向无环图（DAG），其中节点是任务，边代表串行依赖。  
  3. 找出所有没有前置任务的节点（起始任务），从这些节点开始遍历所有可能的路径。  
  4. 计算每条路径上所有任务的时长总和。  
  5. 所有路径总和中的最大值，即为当前方案的“总用时”。  
* **技术实现**：这是一个显著的前端算法实现任务，需要投入大量的开发与测试精力。建议使用成熟的拖拽库（如 dnd-kit）来处理底层的拖放事件，并将开发重点放在关键路径计算的算法逻辑和状态更新上。

## **6.0 模块五：车票选择与购买**

本模块旨在评估用户根据多重约束条件筛选信息，并使用自定义界面进行数值计算的能力。

### **6.1 目标**

评估用户的数据筛选、逻辑推理和精确计算能力。

### **6.2 各页面功能需求**

#### **6.2.1 题目 9：约束条件下的车票筛选**

* **UI组件与内容**：  
  * 一个数据表格，详细展示五个车次的所有信息（出发时间、时长、票价、余票等）1。  
  * 表格的每一行开头，应有一个自定义的可点击圆形选择器 ⚪。  
* **交互逻辑**：  
  * 用户需要根据页面上妈妈提出的所有约束条件（出发时间11点后、乘车时长2小时内、到达时间18:30前、需购买3张票故余票需大于等于3）在头脑中进行筛选。  
  * 点击车次前的 ⚪ 选择器，可以切换该车次的选中状态（例如，圆圈被填充颜色或“点亮”）。这是一个多选界面。  
* **完成标准（Validation）**：“下一页”按钮在用户至少选择了一个车次后启用。  
* **数据捕获**：一个数组 q9\_preliminarySelection，存储用户选择的所有车次的唯一标识符（如车次号 "C769", "D175"）。  
* **导航栏状态**：左侧导航栏的“9 火车购票:车票选择”项应被高亮。

#### **6.2.2 题目 10：最终推荐与计价**

* **UI组件与内容**：  
  * 一个经过筛选的数据表格，仅显示两个符合所有条件的车次（D175, C751）1。  
  * 一个单选按钮组，允许用户从这两个车次中做出最终选择。  
  * 一个用于填写推荐理由的多行文本框。  
  * 一个屏幕上的自定义小键盘组件。  
  * 一个用于显示由小键盘构建的计算公式的文本区域。  
  * 一个用于填写最终计算结果“总票价”的数字输入框。  
* **交互逻辑（自定义键盘）**：  
  * 小键盘必须包含数字0-9，运算符 \+, \-, ×, ÷, \=，以及一个换行键（↵）1。  
  * 点击键盘上的按钮，应将对应的字符追加到公式显示区域。点击换行键应在公式中插入一个换行符 \\n。  
* **完成标准（Validation）**：“下一页”按钮的启用条件是以下所有条件**同时**满足：1) 已选择一个车次；2) 已填写推荐理由；3) 公式区域内容不为空；4) 总票价输入框内容不为空。  
* **数据捕获**：一个综合性对象 q10\_finalPurchaseDecision，包含：{"selectedTrain": \<"D175" or "C751"\>, "justification": \<用户理由文本\>, "calculationFormula": \<从键盘输入的原始公式字符串\>, "calculatedTotal": \<用户输入的总价\>}。  
* **导航栏状态**：左侧导航栏的“10 火车购票:车票选择”项应被高亮。

### **6.3 自定义键盘的设计意图**

要求用户使用自定义键盘分别输入“计算过程”和“计算结果”，这一设计具有明确的评估目的。

* **捕获思维过程**：如果测评目标仅仅是获取最终票价，一个简单的数字输入框就足够了。  
* **区分错误类型**：通过要求用户列出计算公式（例如 60\*2 \+ 60/2），测评能够深入探查用户的解题思路。这使得评估者可以区分两种性质完全不同的错误：一种是由于计算失误导致的答案错误（公式正确，结果错误），另一种是由于对问题理解偏差导致的模型错误（例如，将儿童半价票错误地计算为全价，列出 60\*3 的公式）。  
* **提供更丰富的评估数据**：这种方式采集到的数据（公式+结果）比单一的结果数据具有更高的分析价值。前端需要从零开始构建这个自定义键盘组件，并精确管理公式字符串的状态，包括处理退格/删除等标准编辑功能（尽管未在图示中明确，但这是标准的用户预期）。

## **7.0 模块六：测评完成**

本模块为测评提供一个明确的结束点，并触发最终的数据提交。

### **7.1 目标**

友好地结束测评流程，并确保所有采集到的用户数据被完整、可靠地提交至后端服务器。

### **7.2 题目 11：测评完成**

* **UI组件与内容**：  
  * 一段感谢与祝福语：“感谢你帮助小明完成了火车票购买, 预祝小明一家在成都度过一个美好假期\!” 1。  
  * 一个最终的提交按钮，标签为“完成” 1。  
* **交互逻辑**：  
  * **用户操作**：用户点击“完成”按钮。  
  * **系统响应**：  
    1. 全局计时器停止。  
    2. 将整个测评会话期间捕获的所有数据，编译成一个符合下文“测评提交数据模型”规范的JSON对象。  
    3. 向后端API端点发起一次POST请求，提交该JSON对象。  
    4. 在收到后端成功的响应后，可以向用户显示一个最终的确认信息（如“提交成功！”），或将页面重定向到一个会话结束的静态页面。  
* **导航栏状态**：左侧导航栏的“11 火车购票”项应被高亮。

## **8.0 附录：测评提交数据模型**

下表定义了前端在测评结束时，需要提交给后端的最终JSON对象的数据结构。该模型是前后端开发团队之间的核心契约，旨在消除数据格式、字段命名和类型上的歧义，确保系统集成顺利。

| 字段名 | 数据类型 | 描述 | 来源页面/题目 | 示例值 |
| :---- | :---- | :---- | :---- | :---- |
| userId | String | 用户的唯一标识符，由登录系统提供。 | N/A | "user-12345" |
| assessmentStartTime | ISO 8601 | 用户在注意事项页点击“下一页”时的时间戳。 | 页面 0.1 | "2023-10-27T10:00:40Z" |
| assessmentEndTime | ISO 8601 | 用户点击最终“完成”按钮或计时器超时的时间戳。 | 题目 11 | "2023-10-27T10:35:12Z" |
| submissionType | Enum | 表明会话结束的方式，值为 "COMPLETED" (正常完成) 或 "TIMEOUT" (超时)。 | 全局 | "COMPLETED" |
| precautionsAcknowledged | Boolean | 确认用户已通过初始的注意事项确认步骤。 | 页面 0.1 | true |
| q1\_problemStatement | String | 用户对核心问题的开放式回答文本。 | 题目 2 | "为全家购买从南充到成都的火车票，要快，要在18:30前到。" |
| q3\_relevantFactors | Array | 用户认为重要的影响因素列表。 | 题目 3 | \["小明家到出发站的路程", "火车到达时间", "剩余车票数"\] |
| q4\_routeCalculations | Object | 用户为两条指定路线计算出的路程。 | 题目 4 | {"route1\_km": 7.9, "route5\_km": 7.88} |
| q5\_stationChoice | Object | 用户推荐的出发站及其理由。 | 题目 5 | {"station": "南充站", "justification": "虽然南充北站的路线1更近，但路线5到南充站的路程也差不多。"} |
| q7\_userSchedules | Object | 用户在拖拽界面设计的两个时间安排方案。 | 题目 7 | {"scheme1": {"totalTime": 19, "tasks": \[...\]}, "scheme2": {"totalTime": 21, "tasks": \[...\]}} |
| q8\_optimizationResponse | Object | 用户对小明方案的评价，以及（如果适用）他们提出的改进方案。 | 题目 8 | {"isOptimal": false, "improvedPlan": {"totalTime": 13, "tasks": \[...\]}} |
| q9\_preliminarySelection | Array | 用户根据初步筛选条件选择的车次ID列表。 | 题目 9 | \`\` |
| q10\_finalPurchaseDecision | Object | 最终的车次选择、理由和完整的计价详情。 | 题目 10 | {"selectedTrain": "C751", "justification": "这个车次时间合适，票价便宜。", "calculationFormula": "60\*2+60/2", "calculatedTotal": 150} |

#### **引用的著作**

1. 【四年级数学】火车购票0401.pdf